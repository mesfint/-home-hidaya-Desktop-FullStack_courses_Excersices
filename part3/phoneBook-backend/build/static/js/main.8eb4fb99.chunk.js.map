{"version":3,"sources":["components/Layout/globalStyles.js","components/Notification.js","components/Persons.js","components/Filter.js","components/PersonForm.js","services/persons.js","App.js","index.js"],"names":["GlobalStyle","createGlobalStyle","Notification","message","errorMessage","className","Container","styled","section","Title","h1","PhoneNumber","h2","Persons","persons","search","handleDelete","personArray","filter","person","name","toLowerCase","indexOf","map","index","key","number","onClick","id","Search","Input","layout","labelCol","span","wrapperCol","Filter","handleFilter","Item","label","rules","required","direction","placeholder","value","onChange","style","width","validateMessages","types","email","PersonForm","handleInputName","handleInputNumber","handleSubmit","newName","newNumber","onFinish","values","console","log","offset","type","htmlType","baseUrl","axios","get","then","response","data","newPerson","post","updatePerson","put","delete","App","useState","setNewName","setNewNumber","setSearch","setPersons","setMessage","setErrorMessage","useEffect","contactServices","initialContact","e","target","event","preventDefault","contactObject","checkName","some","existedPerson","find","setTimeout","editedPersonData","catch","error","concat","idToRemove","n","window","confirm","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.8eb4fb99.chunk.js","sourcesContent":["import { createGlobalStyle } from 'styled-components';\n\nconst GlobalStyle = createGlobalStyle`\n    body {\n        padding: 0;\n        margin: 0;\n        box-sizing: content-box;\n       \n        font-family: 'Poppins', sans-serif;\n\n    }\n\n`;\nexport default GlobalStyle;\n","import React from 'react';\n\nexport const Notification = ({ message, errorMessage }) => {\n  if (message === null) {\n    return null;\n  }\n  if (errorMessage === null) {\n    return null;\n  }\n  return (\n    <>\n      {message && <div className=\"success\">{message}</div>}\n      {errorMessage && <div className=\"error\">{errorMessage}</div>}\n    </>\n  );\n};\n","import React from \"react\";\nimport { List, Avatar } from \"antd\";\nimport styled from \"styled-components\";\n\nconst Container = styled.section`\n  padding: 0.3rem;\n\n  display: flex;\n  flex-direction: row;\n  justify-content: left;\n  align-items: center;\n`;\n\nconst Title = styled.h1`\n  font-size: 1em;\n  margin-right: 0.6rem;\n  text-align: left;\n  color: #000066; ;\n`;\nconst PhoneNumber = styled.h2`\n  font-size: 1em;\n  margin-right: 0.6rem;\n  text-align: left;\n  color: #000066;\n`;\n\n//List of Persons\nexport const Persons = ({ persons, search, handleDelete }) => {\n  //console.log(persons);\n  //filter person from the list of persons based on the value={search}\n\n  const filteredPerson = persons.filter((person) => {\n    //indexOf->searching the index of string/character\n    return person.name.toLowerCase().indexOf(search) !== -1;\n  });\n  const personArray = filteredPerson.map((person, index) => (\n    <Container>\n      <Title key={index}>{person.name}</Title>\n      <PhoneNumber>{person.number}</PhoneNumber>\n      <button onClick={() => handleDelete(person.id)}>Delete</button>\n    </Container>\n  ));\n\n  return <div className=\"list\">{personArray}</div>;\n};\n","import React from 'react';\nimport { Form, Input, Space, Divider } from 'antd';\nimport { AudioOutlined } from '@ant-design/icons';\n\nconst { Search } = Input;\n\nconst layout = {\n  labelCol: {\n    span: 8,\n  },\n  wrapperCol: {\n    span: 16,\n  },\n};\n\n//Filter Form\nexport const Filter = ({ handleFilter, search }) => {\n  return (\n    <div className=\"search\">\n      <Form {...layout} name=\"nest-messages\">\n        <Form.Item\n          name={['user', 'search']}\n          label=\" Search By Name:\"\n          rules={[\n            {\n              required: false,\n            },\n          ]}\n        >\n          <Space direction=\"vertical\">\n            <Search\n              placeholder=\"input search name\"\n              value={search}\n              onChange={handleFilter}\n              style={{ width: 270 }}\n            />\n          </Space>\n        </Form.Item>\n      </Form>\n    {/*   <Divider dashed style={{ width: 300 }} /> */}\n    </div>\n  );\n};\n","import React from \"react\";\nimport { Form, Input, Button } from \"antd\";\n\nconst layout = {\n  labelCol: {\n    span: 8,\n  },\n  wrapperCol: {\n    span: 16,\n  },\n};\n\nconst validateMessages = {\n  required: \"${label} is required!\",\n  types: {\n    email: \"${label} is not a valid email!\",\n    number: \"${label} is not a valid number!\",\n  },\n};\n\nexport const PersonForm = ({\n  handleInputName,\n  handleInputNumber,\n  handleSubmit,\n  newName,\n  newNumber,\n}) => {\n  const onFinish = (values) => {\n    console.log(values);\n  };\n\n  return (\n    <div>\n      <Form\n        {...layout}\n        name=\"nest-messages\"\n        onFinish={onFinish}\n        validateMessages={validateMessages}\n      >\n        <Form.Item\n          name={[\"user\", \"name\"]}\n          label=\"Name\"\n          rules={[\n            {\n              required: true,\n            },\n          ]}\n        >\n          <Input\n            placeholder=\"input contact name\"\n            value={newName}\n            onChange={handleInputName}\n          />\n        </Form.Item>\n\n        <Form.Item\n          name=\"phone\"\n          label=\"Phone Number\"\n          rules={[\n            { required: true, message: \"Please input your phone number!\" },\n          ]}\n        >\n          <Input\n            placeholder=\"input phone number\"\n            value={newNumber}\n            onChange={handleInputNumber}\n            style={{ width: \"100%\" }}\n          />\n        </Form.Item>\n\n        <Form.Item wrapperCol={{ ...layout.wrapperCol, offset: 8 }}>\n          <Button type=\"primary\" htmlType=\"submit\" onClick={handleSubmit}>\n            Add Contact\n          </Button>\n        </Form.Item>\n      </Form>\n    </div>\n  );\n};\n","import axios from \"axios\";\nconst baseUrl = \"https://phonebook-backend-part33.herokuapp.com/api/persons\";\n//const baseUrl = \"/api/persons\";\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then((response) => response.data);\n};\n\nconst createPersons = (newPerson) => {\n  const request = axios.post(baseUrl, newPerson);\n  return request.then((response) => response.data);\n};\n\nconst updatePersons = (id, updatePerson) => {\n  const request = axios.put(`${baseUrl}/${id}/`, updatePerson);\n  return request.then((response) => response.data);\n};\nconst deletePersons = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}/`);\n  return request.then((response) => response.data);\n};\n\n/* Since the names of the keys and the assigned variables are the same,\n we can write the object definition with more compact syntax: */\nexport default {\n  getAll,\n  createPersons,\n  updatePersons,\n  deletePersons,\n};\n","import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport GlobalStyle from './components/Layout/globalStyles';\n\nimport { Notification } from './components/Notification';\nimport { Persons } from './components/Persons';\nimport { Filter } from './components/Filter';\nimport { PersonForm } from './components/PersonForm';\nimport contactServices from './services/persons';\nimport axios from 'axios';\n/* import './App.css'; */\n\nconst Container = styled.section`\n  padding: 4rem;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n`;\nconst Title = styled.h1`\n  font-size: 2.5rem;\n  text-align: center;\n`;\n\n// npx json-server --port 3003 --watch db.json\nconst App = () => {\n  //The newName state is meant\n  //for controlling the form input element.\n\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [search, setSearch] = useState('');\n  const [persons, setPersons] = useState([]);\n  const [message, setMessage] = useState('');\n  const [errorMessage, setErrorMessage] = useState('');\n\n  useEffect(() => {\n    contactServices.getAll().then((initialContact) => {\n      setPersons(initialContact);\n    });\n  }, []);\n\n  //HandleFilter\n  const handleFilter = (e) => {\n    setSearch(e.target.value);\n  };\n\n  //Handle Input name\n  const handleInputName = (e) => {\n    setNewName(e.target.value);\n  };\n  //Handle Input Number\n  const handleInputNumber = (e) => {\n    setNewNumber(e.target.value);\n  };\n\n  //Add new contact\n\n  const addPerson = (event) => {\n    event.preventDefault();\n    const contactObject = {\n      name: newName,\n      number: newNumber,\n    };\n    const checkName = (person) =>\n      person.name === contactObject.name &&\n      person.number === contactObject.number;\n    if (!persons.some(checkName)) {\n      contactServices.createPersons(contactObject).then((contactObject) => {\n        setPersons(persons.concat(contactObject));\n        setMessage(`${contactObject.name} successfully added`);\n        setTimeout(() => {\n          setMessage(null);\n        }, 1500);\n        setNewName('');\n        setNewNumber('');\n      });\n    } else {\n      const existedPerson = persons.find(checkName);\n      setTimeout(() => {\n        setErrorMessage(null);\n      }, 1500);\n      if (\n        setErrorMessage(\n          `${existedPerson.name} is in the contact list please replace  it with new one`\n        )\n      ) {\n        contactServices\n          .updatePersons(existedPerson.id, contactObject)\n          .then((editedPersonData) => {\n            setPersons(\n              persons.map((person) =>\n                person.id !== existedPerson.id ? person : editedPersonData\n              )\n            );\n            setMessage(\n              `${contactObject.name} successfully updated with number ${contactObject.number}`\n            );\n          })\n          .catch((error) => {\n            setErrorMessage(\n              `${contactObject.name}  was already deleted from server`\n            );\n            setTimeout(() => {\n              setErrorMessage(null);\n            }, 1500);\n          });\n      }\n    }\n  };\n\n  const handleDelete = (id) => {\n    const idToRemove = persons.filter((n) => n.id !== id);\n\n    window.confirm(`Are you sure to delete ${idToRemove[0].name}`);\n    contactServices\n      .deletePersons(id)\n      .then(() => {\n        setPersons(persons.filter((n) => n.id !== id));\n        /*  setErrorMessage(`${idToRemove[0].name}  removed Successfully`); */\n        setMessage(\n          `${idToRemove[0].name}  successfully  deleted from contact list`\n        );\n        setTimeout(() => {\n          setMessage(null);\n        }, 1500);\n      })\n      .catch((error) => {\n        setErrorMessage(\n          `${idToRemove[0].name} has already been removed from server`\n        );\n        setTimeout(() => {\n          setErrorMessage(null);\n        }, 1500);\n        setPersons(persons.filter((n) => n.id !== id));\n      });\n  };\n\n  return (\n    <>\n      <GlobalStyle />\n      <Container>\n        <Notification message={message} errorMessage={errorMessage} />\n        <Title>Phonebook</Title>\n\n        <Filter handleFilter={handleFilter} search={search} />\n        <h3>Add new contact</h3>\n        <PersonForm\n          handleInputName={handleInputName}\n          handleInputNumber={handleInputNumber}\n          handleSubmit={addPerson}\n          newName={newName}\n          newNumber={newNumber}\n        />\n\n        <Persons\n          persons={persons}\n          search={search}\n          handleDelete={handleDelete}\n        />\n      </Container>\n    </>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'antd/dist/antd.css';\nimport './index.css';\n\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}