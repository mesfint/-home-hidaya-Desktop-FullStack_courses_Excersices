{"version":3,"sources":["components/Persons.js","components/Filter.js","services/persons.js","components/PersonForm.js","components/Notification.js","App.js","index.js"],"names":["Persons","persons","handleDeletePersons","map","person","name","number","onClick","id","Filter","searchTerm","handleSearchChange","placeholder","value","onChange","baseUrl","axios","get","then","res","data","newObject","post","put","response","delete","PersonForm","addContact","newName","newPhone","handleChange","handlePhoneChange","handleSUbmit","onSubmit","type","Notification","notification","className","message","App","useState","setPersons","setNewName","setNewPhone","setSearchTerm","setNotification","useEffect","personServices","initialContact","notifyWith","setTimeout","displayPersons","length","filter","toLowerCase","indexOf","e","target","existing","find","p","window","confirm","returnedPerson","catch","error","newContactObj","contactId","uuid","addedPerson","n","preventDefault","toRemove","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6178085b.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Persons = ({ persons, handleDeletePersons }) => {\n  //filter person from list\n\n  return (\n    <>\n      <ol>\n        {persons.map((person) => (\n          <li key={person.id}>\n            {\" \"}\n            {`${person.name} ${person.number}`}\n            <button onClick={() => handleDeletePersons(person.id)}>\n              delete\n            </button>\n          </li>\n        ))}\n      </ol>\n    </>\n  );\n};\n\nexport default Persons;\n","import React from \"react\";\nimport Persons from \"./Persons\";\nconst Filter = ({ persons, searchTerm, handleSearchChange }) => {\n  return (\n    <div>\n      Search people:\n      <input\n        placeholder=\"search contact...\"\n        value={searchTerm}\n        onChange={handleSearchChange}\n      />\n    </div>\n  );\n};\n\nexport default Filter;\n","import axios from \"axios\";\nconst baseUrl = \"https://phonebook-backend-part33.herokuapp.com/api/persons\";\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then((res) => {\n    return res.data;\n  });\n};\n\nconst createPersons = (newObject) => {\n  const request = axios.post(baseUrl, newObject);\n  return request.then((res) => res.data);\n};\n\n//Update did not implemented in the App\nconst updatePersons = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}/`, newObject);\n  return request.then((response) => response.data);\n};\n\nconst deletePersons = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}/`);\n  return request.then((response) => response.data);\n};\n\nexport default { getAll, createPersons, updatePersons, deletePersons };\n","import React from \"react\";\n\nconst PersonForm = ({\n  addContact,\n  newName,\n  newPhone,\n  handleChange,\n  handlePhoneChange,\n  handleSUbmit,\n}) => {\n  return (\n    <>\n      <form onSubmit={handleSUbmit}>\n        <br />\n        <div>\n          name: <input value={newName} onChange={handleChange} />\n          number: <input value={newPhone} onChange={handlePhoneChange} />\n        </div>\n        <div>\n          <button\n            onClick={() => {\n              addContact();\n            }}\n            type=\"submit\"\n          >\n            add\n          </button>\n        </div>\n      </form>\n    </>\n  );\n};\n\nexport default PersonForm;\n","import React from \"react\";\n\nconst Notification = ({ notification }) => {\n  if (notification === null) {\n    return null;\n  }\n  return (\n    <>\n      <div className={notification.type}>{notification.message}</div>\n    </>\n  );\n};\n\nexport default Notification;\n","import React, { useState, useEffect } from \"react\";\nimport Filter from \"./components/Filter\";\nimport axios from \"axios\";\nimport personServices from \"./services/persons\";\nimport { v4 as uuid } from \"uuid\";\n\nimport PersonForm from \"./components/PersonForm\";\nimport Persons from \"./components/Persons\";\nimport Notification from \"./components/Notification\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newPhone, setNewPhone] = useState(\"\");\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [notification, setNotification] = useState(null);\n\n  useEffect(() => {\n    personServices.getAll().then((initialContact) => {\n      setPersons(initialContact);\n    });\n  }, []);\n\n  const notifyWith = (message, type = \"success\") => {\n    setNotification({ message, type });\n    setTimeout(() => {\n      setNotification(null);\n    }, 5000);\n  };\n\n  const handleChange = (e) => {\n    setNewName(e.target.value);\n  };\n  const handlePhoneChange = (e) => {\n    setNewPhone(e.target.value);\n  };\n\n  //search\n  const handleSearchChange = (e) => {\n    setSearchTerm(e.target.value);\n  };\n\n  const handleSUbmit = (e) => {\n    e.preventDefault();\n  };\n  //Add contact\n  const addContact = () => {\n    //check existed contact\n    const existing = persons.find((p) => p.name === newName);\n    if (existing) {\n      const ok = window.confirm(\n        `${existing.name} already in phonebook, replace the old number with new one?`\n      );\n      if (ok) {\n        personServices\n          .updatePersons(existing.id, {\n            name: existing.name,\n            number: newPhone,\n          })\n          .then((returnedPerson) => {\n            setPersons(\n              persons.map((person) =>\n                person.id !== existing.id ? person : returnedPerson\n              )\n            );\n          })\n          .catch((error) => {\n            notifyWith(\n              `Person   ${existing.name} was already removed from server`\n            );\n            setTimeout(() => {\n              setNotification(null);\n            }, 5000);\n            setPersons(persons.filter((p) => p.id !== existing.id));\n          });\n      }\n    } else {\n      const newContactObj = {\n        contactId: uuid(),\n        name: newName,\n        number: newPhone,\n      };\n      personServices.createPersons(newContactObj).then((addedPerson) => {\n        setPersons([\n          ...persons,\n          {\n            id: newContactObj.contactId,\n            name: newContactObj.name,\n            number: newContactObj.number,\n          },\n        ]);\n        notifyWith(`Added ${newName}`, \"success\");\n        setNewName(\"\");\n        setNewPhone(\"\");\n      });\n      // .catch((error) => {\n      //   notifyWith(`${error.response.data.error} `, \"error\");\n      // });\n\n      const existedContact = persons.find(\n        (n) =>\n          n.name.toLowerCase() === newName.toLowerCase() ||\n          n.number === newPhone\n      );\n      if (existedContact) {\n        setPersons([...persons]);\n        notifyWith(` ${newName} is already in contact`);\n        setNewName(\"\");\n      }\n      setNewName(\"\");\n    }\n  };\n\n  //Delete person\n  const handleDeletePersons = (id) => {\n    const toRemove = persons.find((p) => p.id === id);\n    const ok = window.confirm(`Delete ${toRemove.name}`);\n    if (ok) {\n      personServices\n        .deletePersons(id)\n        .then((res) => {\n          setPersons(persons.filter((p) => p.id !== id));\n\n          notifyWith(`Deleted ${toRemove.name}`);\n        })\n        .catch(() => {\n          setPersons(persons.filter((p) => p.id !== id));\n          notifyWith(`${toRemove.name} had already been removed`, \"error\");\n        });\n    }\n  };\n\n  const displayPersons =\n    searchTerm.length === 0\n      ? persons\n      : persons.filter(\n          (person) =>\n            person.name.toLowerCase().indexOf(searchTerm.toLowerCase()) > 0\n        );\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification notification={notification} />\n      <Filter\n        handleSearchChange={handleSearchChange}\n        persons={persons}\n        searchTerm={searchTerm}\n      />\n      <h2>Add name and Numbers</h2>\n      <PersonForm\n        addContact={addContact}\n        newName={newName}\n        newPhone={newPhone}\n        handleChange={handleChange}\n        handlePhoneChange={handlePhoneChange}\n        handleSUbmit={handleSUbmit}\n      />\n\n      <Persons\n        handleDeletePersons={handleDeletePersons}\n        persons={displayPersons}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}